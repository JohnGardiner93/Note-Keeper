<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: controller</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <link rel="shortcut icon" href="https://image.flaticon.com/icons/png/512/752/752285.png" type="image/x-icon" />

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: controller</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Controller for the app. Passes data back and forth between the data model and the views.</p></div>
        

        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".controlHeaderViewCreateNewNote"><span class="type-signature">(static) </span>controlHeaderViewCreateNewNote<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Handles creation of new note. Checks the id of the element that executed the callback. If the element has an id, the note is loaded. If the element has no id e.g. this is a new note, then create a new note in the model, the load it into the note editor and add it to the notes view. The &quot;no notes&quot; message is removed.</p>
</div>







    <h5>This:</h5>
    <ul><li>{Element}</li></ul>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line27">line 27</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-headerView-HeaderView.html#.addHandlerNewNoteButton"><code>HeaderView.addHandlerNewNoteButton</code></a></p></li>
        </ul>
    </dd>
    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Determine if id check is needed. May be able to remove "this".</li>
        
            <li>Refactor to leverage other existing functions. Add the note to the notes view and the model, then open that note.</li>
        </ul>
    </dd>
    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlLocalStorageLoadNotes"><span class="type-signature">(static) </span>controlLocalStorageLoadNotes<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Loads any note information from LocalStorage. Populates the note model with the information found, then renders each note with any required event handlers, etc. Checks if the &quot;no notes&quot; message should be displayed. If any errors occur during loading, they are caught and logged in the console.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line214">line 214</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-model.html#.populateNoteModel"><code>model.populateNoteModel</code></a></p></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlLocalStorageSaveNotes"><span class="type-signature">(static) </span>controlLocalStorageSaveNotes<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Saves the model notes array to localStorage, overwriting whatever was there previously.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line234">line 234</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlNoNotesViewCreateNote"><span class="type-signature">(static) </span>controlNoNotesViewCreateNote<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Creates a new note when the &quot;Create New Note&quot; button on the &quot;No Notes&quot; message is pressed. Calls <a href="module-controller.html#.controlHeaderViewCreateNewNote"><code>controlHeaderViewCreateNewNote</code></a> by passing the notesView object as &quot;this&quot;.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line69">line 69</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-noNotesView-NoNotesView.html#.addHandlerNewNoteButton"><code>NoNotesView.addHandlerNewNoteButton</code></a></p></li>
        </ul>
    </dd>
    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Consolidate this and <a href="module-controller.html#.controlHeaderViewCreateNewNote"><code>controlHeaderViewCreateNewNote</code></a> into a singular function.</li>
        </ul>
    </dd>
    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlNoteEditorClose"><span class="type-signature">(static) </span>controlNoteEditorClose<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Handles the closing of the note editor. Triggered by exiting the note editor via pressing the &quot;Escape&quot; key, clicking out of the note, or clicking the close button. If the note in the editor is untouched (e.g. the note is blank), the note is deleted via the <a href="module-controller.html#.controlNoteEditorDelete"><code>controlNoteEditorDelete</code></a> method. Otherwise, the model saves the current note information to the model's notes array (long-term storage). The notesView representation of the note is updated. The current note is then unloaded and the editor is closed. Localstorage is then updated with the data model. Checks if the &quot;no notes&quot; message should be displayed. Relies on the information stored about the current note being up-to-date.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-editNoteView-EditNoteView.html#.addHandlersCloseNote"><code>EditNoteView.addHandlersCloseNote</code></a>, <a href="module-editNoteView-EditNoteView.html#.addHandlerEscapeKey"><code>.addHandlerEscapeKey</code></a></p></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlNoteEditorDelete"><span class="type-signature">(static) </span>controlNoteEditorDelete<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Handles a note being deleted via the press of the &quot;delete&quot; button in the note editor. The note editor is first closed. The note is the removed from the notesView via its id. The note is deleted from the data model and the currentNote information is reset to defaults (unloaded). LocalStorage is updated. Checks if the &quot;no notes&quot; message should be displayed.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line179">line 179</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-editNoteView-EditNoteView.html#.addHandlersCloseNote"><code>EditNoteView.addHandlersCloseNote</code></a>, <a href="module-editNoteView-EditNoteView.html#.addHandlerEscapeKey"><code>.addHandlerEscapeKey</code></a></p></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlNoteEditorEscapeButton"><span class="type-signature">(static) </span>controlNoteEditorEscapeButton<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Handles the press of the escape button when in using the note editor. Distinguised from <a href="module-controller.html#.controlNoteEditorClose"><code>controlNoteEditorClose</code></a> due to the order of operations when the &quot;escape&quot; key is pressed. When the &quot;escape&quot; key is pressed, that event fires first, followed by the focusout event. The current note information is only updated when the text areas in the note editor lose focus (thus triggering the focusout chain of events). The Esc event happens first. Thus, if we were to close the note editor at that point, the most-current note information would not be saved into the data model; the previously-captured current note information would be instead. So, this method updates the model with the currentNote information before calling the <a href="module-controller.html#.controlNoteEditorClose"><code>controlNoteEditorClose</code></a> method.
If the note in the editor is untouched (e.g. the note is blank), the note is deleted via the <a href="module-controller.html#.controlNoteEditorDelete"><code>controlNoteEditorDelete</code></a> method. The data model currentNote information is updated, then the <a href="module-controller.html#.controlNoteEditorClose"><code>controlNoteEditorClose</code></a> method is called.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line197">line 197</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-editNoteView-EditNoteView.html#.addHandlerEscapeKey"><code>EditNoteView.addHandlerEscapeKey</code></a></p></li>
        </ul>
    </dd>
    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Determine if there is a less redundant way to handle closing the note editor such that all closing methods can share a control method. Would likely involve a flag indicating a change in the text body or a re-organization of the note-updating order of operations.</li>
        </ul>
    </dd>
    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlNoteEditorUpdateNoteModel"><span class="type-signature">(static) </span>controlNoteEditorUpdateNoteModel<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Handles editing the note in the data model. Executed at several events when a note is being edited in the note editor, including: When the text being edited is no longer in focus; when the note being edited changes color via the color picker selection. The state of the note in the note editor is retrieved, then updated in the model and on the note's representation in the notes view.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line131">line 131</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-editNoteView-EditNoteView.html#.addHandlerTextElementsFocusOut"><code>EditNoteView.addHandlerTextElementsFocusOut</code></a>, <a href="module-editNoteView-EditNoteView.html#.addHandlersColorPicker"><code>.addHandlersColorPicker</code></a>, <a href="module-editNoteView-EditNoteView.html#.addHandlerEscapeKey"><code>.addHandlerEscapeKey</code></a></p></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlNotesViewChangeNoteColor"><span class="type-signature">(static) </span>controlNotesViewChangeNoteColor<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Handles the documentation of a note changing color via a specific note's color picker. Saves the note to the data model using the new color and existing information about the note.</p>
</div>







    <h5>This:</h5>
    <ul><li>{Element}</li></ul>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line96">line 96</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-notesView-NotesView.html#.addHandlersColorPickerNote"><code>NotesView.addHandlersColorPickerNote</code></a></p></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlNotesViewDeleteNote"><span class="type-signature">(static) </span>controlNotesViewDeleteNote<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Handles deletion of a note from the notesView when a specific note's delete button is pressed. Removes the note from the notes view. Deletes the note from the model. Saves the model notes array to local storage. Checks if the &quot;no notes&quot; message should be displayed.</p>
</div>







    <h5>This:</h5>
    <ul><li>{Element}</li></ul>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line82">line 82</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-notesView-NotesView.html#.addHandlerDeleteNoteButton"><code>NotesView.addHandlerDeleteNoteButton</code></a></p></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".controlNotesViewOpenNote"><span class="type-signature">(static) </span>controlNotesViewOpenNote<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Handles the opening of a note when a specific note is clicked. The note is loaded from the data model into the current note slot. The note information is then rendered in the note editor.</p>
</div>







    <h5>This:</h5>
    <ul><li>{Element}</li></ul>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line109">line 109</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-notesView-NotesView.html#.addHandlerClickNote"><code>NotesView.addHandlerClickNote</code></a></p></li>
        </ul>
    </dd>
    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>Add error handling.</li>
        </ul>
    </dd>
    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~_noNotesViewUpdate"><span class="type-signature">(inner) </span>_noNotesViewUpdate<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Internal controller function that updates the noNotes view. If there are no notes displayed in the notesView, the noNotesView is displayed and the &quot;create note&quot; buttons are highlighted. If there are notes being displayed, the noNotesView is hidden and the &quot;create note&quot; buttons are no longer highlighted.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line262">line 262</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~_notesViewRenderNote"><span class="type-signature">(inner) </span>_notesViewRenderNote<span class="signature">(id, title, text, color)</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Internal controller function that handles the rendering of a note based on the information provided. Renders the note in the notes view using the provided information. Attaches handlers for delete note button, clicking on the note, and the note's color picker.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"><p>The id of the note to be updated.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The title of the note to be updated.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>text</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The text body of the note to be updated.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>color</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The color of the note to be updated. Must be within pre-defined set of colors (NOTE_COLORS) as seen in <a href="module-config.html#.NOTE_COLORS"><code>config.js</code></a> in order to properly render.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line249">line 249</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="module-notesView-NotesView.html#.addHandlerDeleteNoteButton"><code>NotesView.addHandlerDeleteNoteButton</code></a>,<a href="module-notesView-NotesView.html#.addHandlerClickNote"><code>.addHandlerClickNote</code></a>,<a href="module-notesView-NotesView.html#.addHandlersColorPickerNote"><code>.addHandlersColorPickerNote</code></a></p></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~init"><span class="type-signature">(inner) </span>init<span class="signature">()</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Initializes the application. Allows for debug code to be run if the DEBUG_MODE flag in <a href="module-config.html#.DEBUG_MODE"><code>config.js</code></a> is set to TRUE. Any notes in localStorage are loaded. Handlers for the header, editNoteView, and noNotesView are added.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="controller.js.html">controller.js</a>, <a href="controller.js.html#line276">line 276</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Note Keeper</a></h2><h3>Modules</h3><ul><li><a href="module-config.html">config</a></li><li><a href="module-controller.html">controller</a></li><li><a href="module-editNoteView.html">editNoteView</a></li><li><a href="module-headerView.html">headerView</a></li><li><a href="module-helpers.html">helpers</a></li><li><a href="module-model.html">model</a></li><li><a href="module-noNotesView.html">noNotesView</a></li><li><a href="module-notesView.html">notesView</a></li></ul><h3>Classes</h3><ul><li><a href="module-editNoteView-EditNoteView.html">EditNoteView</a></li><li><a href="module-headerView-HeaderView.html">HeaderView</a></li><li><a href="module-model-Note.html">Note</a></li><li><a href="module-noNotesView-NoNotesView.html">NoNotesView</a></li><li><a href="module-notesView-NotesView.html">NotesView</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Tue Jun 08 2021 18:34:13 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>